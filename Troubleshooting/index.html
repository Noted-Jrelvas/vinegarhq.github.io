<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Troubleshooting - Vinegar</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The documentation of the Vinegar project, which makes Roblox on Linux more convenient.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../Home/index.html"><strong aria-hidden="true">1.</strong> Home</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Home/faq.html"><strong aria-hidden="true">1.1.</strong> FAQ</a></li></ol></li><li class="chapter-item expanded "><a href="../Installation/index.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Installation/guides/source.html"><strong aria-hidden="true">2.1.</strong> Installing from source</a></li><li class="chapter-item expanded "><a href="../Installation/guides/flatpak.html"><strong aria-hidden="true">2.2.</strong> Installing from Flatpak</a></li><li class="chapter-item expanded "><a href="../Installation/guides/package.html"><strong aria-hidden="true">2.3.</strong> Installing from package</a></li></ol></li><li class="chapter-item expanded "><a href="../Configuration/index.html"><strong aria-hidden="true">3.</strong> Configuration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Configuration/tips-and-tricks/index.html"><strong aria-hidden="true">3.1.</strong> Tips and tricks</a></li></ol></li><li class="chapter-item expanded "><a href="../Contributing/index.html"><strong aria-hidden="true">4.</strong> Contributing</a></li><li class="chapter-item expanded "><a href="../Troubleshooting/index.html" class="active"><strong aria-hidden="true">5.</strong> Troubleshooting</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Troubleshooting/winehq.html"><strong aria-hidden="true">5.1.</strong> Reporting issues to WineHQ</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Vinegar</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/vinegarhq/vinegar" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/vinegarhq/vinegarhq.github.io/edit/main/src/Troubleshooting/index.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<p>If there are any issues here that are undocumented, feel free to <a href="https://github.com/vinegarhq/vinegarhq.github.io/issues/new/choose">create an issue!</a></p>
<hr />
<h2 id="general-issues"><a class="header" href="#general-issues">General Issues</a></h2>
<p>Known Vinegar issues which affect both Roblox Player and Roblox Studio:</p>
<h3 id="cursor-fails-to-lock"><a class="header" href="#cursor-fails-to-lock">Cursor fails to lock</a></h3>
<p>On XWayland, the cursor cannot be locked unless it's invisible. This impacts the functionality of Roblox's first-person and shiftlock modes. This also impacts Studio's edit mode, where the camera rotation depends on the cursor being locked and is broken.</p>
<p>Switching to a real X11 session fixes this issue. Some users have also reported success with gamescope's <code>--force-grab-cursor</code> option, but this doesn't seem to work for everyone.</p>
<p>Once Wine's wayland driver is introduced (scheduled for next year), this issue should be fixed.</p>
<h3 id="white-screen"><a class="header" href="#white-screen">White Screen</a></h3>
<p>Usually, this is a sign of missing graphics libraries which Wine depends on to work. Check <a href="https://github.com/lutris/docs/blob/master/InstallingDrivers.md">Lutris Docs: Installing Drivers</a> out for instructions on how to install them.</p>
<p>This may also indicate that your GPU doesn't meet the minimum Vulkan requirements; Use the OpenGL renderer, or set the installed DXVK version to one which includes a legacy version of Vulkan supported by your GPU.</p>
<h3 id="stale-wineserver"><a class="header" href="#stale-wineserver">Stale wineserver</a></h3>
<p>Although this normally doesn't happen, the wineserver might continue running in certain cases. Using the <code>vinegar kill</code> command should stop it.</p>
<h3 id="no-roblox-desktop-entriesshortcuts"><a class="header" href="#no-roblox-desktop-entriesshortcuts">No Roblox desktop entries/shortcuts</a></h3>
<p>This issue has no known cause, but appears to be more frequent with the Vinegar Flatpak. Rebooting your system should fix it.</p>
<h3 id="stuttering-and-freezing-nvidia-gpu"><a class="header" href="#stuttering-and-freezing-nvidia-gpu">Stuttering and freezing (Nvidia GPU)</a></h3>
<p>Although stuttering can happen for many different reasons, it's a very common issue on certain Nvidia cards. It seems that Nvidia's drivers on Wayland have major issues with stuttering and unexplainable frame locking in certain systems, but only if the window is fullscreen. This issue has been confirmed to exist for configurations where the Nvidia GPU drives the display and ones where PRIME offload is used (IGPU drives the display, DGPU renders the game).</p>
<p>There's no known fix (as of October 14th, 2023), but the following workarounds might help depending on the system:</p>
<ul>
<li>
<p>Switching to X11:
Unfortunately, NVIDIA's drivers still have many Wayland/XWayland issues. Reverting to X11 might be the easiest fix.</p>
</li>
<li>
<p>Using integrated graphics (only for systems with PRIME render offload):
Vinegar chooses the discrete graphics by default if using the Vulkan or DXVK. Configuring Vinegar to use the integrated graphics instead could potentially improve stability, at the cost of performance. To achieve this, <code>MESA_VK_DEVICE_SELECT_FORCE_DEFAULT_DEVICE = &quot;1&quot;</code> may be added to Vinegar's env configuration.
If the stutters are gone after doing this, they were being caused by Nvidia's drivers.</p>
</li>
<li>
<p>Disabling fullscreen:
If none of the workarounds above work or apply, consider using Roblox windowed instead of fullscreen.
This may also be your GPU not supporting Vulkan or not supporting modern Vulkan; Use the OpenGL renderer, or set the installed DXVK version to one which includes a legacy version of Vulkan that your GPU supports.</p>
</li>
</ul>
<hr />
<h2 id="player-issues"><a class="header" href="#player-issues">Player Issues</a></h2>
<p>Known Roblox Player issues:</p>
<h3 id="memory-dump"><a class="header" href="#memory-dump">Memory Dump</a></h3>
<p>This is because of <a href="https://gitlab.winehq.org/wine/wine/-/commit/ea640f6cece7660ffc853b7d574fbe52af34901a">commit ea640f6c</a> (on Wine 8.16 and newer) causing Roblox to create a memory dump.</p>
<p>There are 2 workarounds:</p>
<ul>
<li>
<p>Using the <a href="https://vinegarhq.github.io/Installation/guides/flatpak.html">Vinegar flatpak</a>.</p>
</li>
<li>
<p>Using <a href="https://github.com/GloriousEggroll/wine-ge-custom/releases">Wine-GE</a> or a patched build of Wine with the above commit reverted.</p>
</li>
</ul>
<h3 id="facial-recognition--webcam-does-not-work-unsupported"><a class="header" href="#facial-recognition--webcam-does-not-work-unsupported">Facial recognition / Webcam does not work (Unsupported)</a></h3>
<p>Currently, Wine relies on the legacy <a href="https://www.kernel.org/doc/html/latest/userspace-api/media/v4l/v4l2.html">v4l2</a> API for supporting webcams. One of its limitations is that a device can only be accessed by one process at any given time. For some unknown reason, Wine attempts to access the webcam multiple times, causing it to fail.
Some users have reported that creating a <a href="https://github.com/umlaeute/v4l2loopback">v4l2 loopback</a> device fixes this issue (for example, using OBS's virtual camera feature), but this hasn't been confirmed.</p>
<p>This issue should be eventually fixed once Wine has a native pipewire driver, but there's currently no predicted ETA or schedule for that. Until then, <strong>webcam support is out of Vinegar's scope</strong>, as we have no feasible way of fixing the underlying problems.</p>
<hr />
<h2 id="studio-issues"><a class="header" href="#studio-issues">Studio Issues</a></h2>
<p>Known Roblox Studio issues:</p>
<h3 id="stuck-on-the-splash-screen"><a class="header" href="#stuck-on-the-splash-screen">Stuck on the splash screen</a></h3>
<p>This usually happens due to issues with the DPI. In order to fix it, set the DPI to 97 (already done by default) by running <code>vinegar exec winecfg</code> to open the Wine configuration, and then head to the Graphics tab. There should be a DPI option at the bottom of the page.</p>
<p>A DPI greater than 96 could be set, but this causes in-game GUIs to be larger than normal. Also, because of a Wine issue, using a non-default DPI will cause the Roblox viewport to be a bit blurry. Additionally, make sure that the DPI is an even number, otherwise GUIs will be blurry.</p>
<h3 id="unable-to-log-in"><a class="header" href="#unable-to-log-in">Unable to log in</a></h3>
<p>This occurs due to WebView2 issues with Wine. The only workaround is to log in through the <a href="https://roblox.com">Roblox website</a> and launch/edit an experience, or to log in through the same method but launching Player, which authenticates Studio in the process.</p>
<h3 id="your-gpu-is-incompatible-error"><a class="header" href="#your-gpu-is-incompatible-error">&quot;Your GPU is incompatible&quot; error</a></h3>
<p>This issue is most commonly caused by the Wine build not having the Vulkan ChildWindow patch applied. There are a couple solutions:</p>
<ul>
<li>
<p>Using the <a href="https://vinegarhq.github.io/Installation/guides/flatpak.html">Vinegar flatpak</a>, which includes the ChildWindow patch;</p>
</li>
<li>
<p>Using a Wine build that has the ChildWindow patch enabled (such as <a href="https://github.com/GloriousEggroll/wine-ge-custom">Wine GE</a>);</p>
</li>
<li>
<p>Disabling DXVK in the Vinegar configuration.</p>
</li>
</ul>
<h3 id="buggy-qt-fonts"><a class="header" href="#buggy-qt-fonts">Buggy QT fonts</a></h3>
<p>This is due to an incompatibility with WineD3D. Enabling DXVK in the configuration file should solve this issue.</p>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Contributing/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../Troubleshooting/winehq.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Contributing/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../Troubleshooting/winehq.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
